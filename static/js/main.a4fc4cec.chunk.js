(this["webpackJsonpsticker-scraper"]=this["webpackJsonpsticker-scraper"]||[]).push([[0],{1066:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(16),i=r.n(a),c=r(53),s=r(9),o=(r(63),r(64),r(17)),u=r(7),h=r.n(u),b=r(10),d=r(19),j=r(23),l=r(11),O=r(48),p={apiId:parseInt("6544363"),apiHash:"86ef20b7ba5e5464dc7079e760e1499c",jsLogVerbosityLevel:"info",logVerbosityLevel:2},f=void 0;function x(){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return e.next=3,f.api.destroy();case 3:return t=new O.Airgram(p),f=t,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=r(13),A=function(){function e(t){var r=this;Object(d.a)(this,e),this.rootStore=t,this.state=void 0,this.firstLaunch=!0,this.middleware=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._!==m.UPDATE.updateAuthorizationState||!("update"in t)){e.next=8;break}if(i=t.update,c=i.authorizationState,!r.firstLaunch||c._!==m.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber||(null===(a=r.state)||void 0===a?void 0:a._)!==m.AUTHORIZATION_STATE.authorizationStateWaitEncryptionKey){e.next=7;break}return r.firstLaunch=!1,r.switchToQr(),e.abrupt("return");case 7:Object(l.g)((function(){r.state=c}));case 8:return e.abrupt("return",n());case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Object(l.d)(this,{middleware:!1})}return Object(j.a)(e,[{key:"switchToQr",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=this.state)||void 0===t?void 0:t._)!==m.AUTHORIZATION_STATE.authorizationStateWaitOtherDeviceConfirmation){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rootStore.Airgram.api.requestQrCodeAuthentication();case 4:if("error"!==(r=e.sent).response._){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchToPhoneNumber",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=this.state)||void 0===t?void 0:t._)!==m.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.reset();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.firstLaunch=!1,e.next=3,this.rootStore.resetAirgram();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendPhoneNumber",value:function(e){return this.rootStore.Airgram.api.setAuthenticationPhoneNumber({phoneNumber:e})}},{key:"sendCode",value:function(e){return this.rootStore.Airgram.api.checkAuthenticationCode({code:e})}},{key:"sendPassword",value:function(e){return this.rootStore.Airgram.api.checkAuthenticationPassword({password:e})}}]),e}(),T=function e(t){var r=this;Object(d.a)(this,e),this.rootStore=t,this.state=m.CONNECTION_STATE.connectionStateWaitingForNetwork,this.middleware=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._===m.UPDATE.updateConnectionState&&"update"in t&&(a=t.update,i=a.state._,Object(l.g)((function(){r.state=i}))),e.abrupt("return",n());case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Object(l.d)(this,{middleware:!1})},g=function(){function e(){Object(d.a)(this,e),this.Airgram=void 0,this.Authorization=new A(this),this.Connection=new T(this),this.resetAirgram(),Object(l.d)(this,{Airgram:!1})}return Object(j.a)(e,[{key:"resetAirgram",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:this.Airgram=e.sent,this.Airgram.use(this.Authorization,this.Connection);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=r(6),w=new g,k=Object(n.createContext)(w),C=function(e){var t=e.children;return Object(S.jsx)(k.Provider,{value:w,children:t})},_=r(27),y=r(22),N=r(3),I=r(49),z=r.n(I),P=r(37),E=r.n(P),H=["className","disablePadding"],L=function(e){var t=e.className,r=e.disablePadding,n=Object(N.a)(e,H);return Object(S.jsx)("div",Object(_.a)({className:z()(E.a.root,Object(y.a)({},E.a.padding,!r),t)},n))},R=r(5),U=r(24),W=function(){var e=Object(n.useContext)(k).Authorization,t=Object(n.useState)(!1),r=Object(R.a)(t,2),a=r[0],i=r[1],c=Object(U.b)(),o=c.formState.errors,u=c.register,d=c.handleSubmit,j=c.setError,l=Object(n.useCallback)(function(){var t=Object(b.a)(h.a.mark((function t(r){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.phoneNumber,!a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,i(!0),t.next=7,e.sendPhoneNumber(n);case 7:if("error"!==(c=t.sent).response._){t.next=10;break}throw c.response._;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),j("phoneNumber",t.t0);case 15:return t.prev=15,i(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),[e,a,j]);return Object(S.jsx)(L,{children:Object(S.jsx)("form",{onSubmit:d(l),children:Object(S.jsxs)(s.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(S.jsx)(s.h,{h3:!0,children:"Log in to Telegram"}),Object(S.jsx)(s.h,{margin:0,children:"by phone number"}),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.e,Object(_.a)({autoFocus:!0,disabled:a,type:o.phoneNumber?"error":void 0},u("phoneNumber",{required:!0}))),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.a,{disabled:a,htmlType:"submit",type:"success",children:"Next"}),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.a,{ghost:!0,type:"success",onClick:function(){return e.switchToQr()},children:"Log in by qr code"})]})})})},Z=Object(o.a)((function(){var e=Object(n.useContext)(k).Authorization,t=Object(U.b)(),r=t.handleSubmit,a=t.setError,i=t.control,c=e.state,o=Object(U.a)({defaultValue:"",name:"code",rules:{required:!0},control:i}),u=o.field,d=u.value,j=u.onChange,l=o.fieldState.error,O=Object(n.useCallback)(function(){var t=Object(b.a)(h.a.mark((function t(r){var n,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.code,t.prev=1,t.next=4,e.sendCode(n);case 4:if("error"!==(i=t.sent).response._){t.next=7;break}throw i.response._;case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a("code",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),[e,a]),p=Object(n.useCallback)((function(e){var t=e.target.value;j(t),5===t.length&&r(O)(e)}),[r,j,O]);return Object(S.jsx)(L,{children:Object(S.jsx)("form",{onSubmit:r(O),children:Object(S.jsxs)(s.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(S.jsx)(s.h,{h3:!0,children:c.codeInfo.phoneNumber}),Object(S.jsx)(s.e,{autoFocus:!0,label:"Code",type:l?"error":void 0,value:d,onChange:p}),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.a,{htmlType:"submit",type:"success",children:"Next"}),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.a,{type:"success",ghost:!0,onClick:function(){return e.reset()},children:"Reset"})]})})})})),F=Object(o.a)((function(){var e=Object(n.useContext)(k).Authorization,t=Object(n.useState)(!1),r=Object(R.a)(t,2),a=r[0],i=r[1],c=Object(U.b)(),o=c.formState.errors,u=c.register,d=c.handleSubmit,j=c.setError,l=e.state,O=Object(n.useCallback)(function(){var t=Object(b.a)(h.a.mark((function t(r){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.password,!a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,i(!0),t.next=7,e.sendPassword(n);case 7:if("error"!==(c=t.sent).response._){t.next=10;break}throw c.response._;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),j("password",t.t0);case 15:return t.prev=15,i(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),[e,a,j]);return Object(S.jsx)(L,{children:Object(S.jsx)("form",{onSubmit:d(O),children:Object(S.jsxs)(s.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(S.jsx)(s.h,{h3:!0,children:"Enter Your Password"}),Object(S.jsx)(s.e.Password,Object(_.a)({autoFocus:!0,disabled:a,placeholder:l.passwordHint,type:o.password?"error":void 0},u("password",{required:!0}))),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.a,{disabled:a,htmlType:"submit",type:"success",children:"Next"}),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.a,{type:"success",ghost:!0,onClick:function(){return e.reset()},children:"Reset"})]})})})})),q=r(50),D=r.n(q),Q=r(51),V=r.n(Q),B=Object(o.a)((function(){var e=Object(n.useContext)(k).Authorization,t=e.state;return Object(S.jsx)(L,{children:Object(S.jsxs)(s.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(S.jsx)(s.h,{h3:!0,children:"Log in to Telegram"}),Object(S.jsx)(s.h,{margin:0,children:"by qr code"}),Object(S.jsx)(s.f,{}),Object(S.jsx)("div",{className:V.a.codeArea,children:Object(S.jsx)(L,{disablePadding:!0,children:t.link?Object(S.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:Object(S.jsx)(D.a,{renderAs:"svg",value:t.link,size:240})}):Object(S.jsx)(s.g,{})})}),Object(S.jsx)(s.f,{}),Object(S.jsx)(s.a,{ghost:!0,type:"success",onClick:function(){return e.switchToPhoneNumber()},children:"Log in by phone number"})]})})})),J=Object(o.a)((function(){var e,t,r,a,i=Object(n.useContext)(k).Authorization;return(null===(e=i.state)||void 0===e?void 0:e._)===m.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber?Object(S.jsx)(W,{}):(null===(t=i.state)||void 0===t?void 0:t._)===m.AUTHORIZATION_STATE.authorizationStateWaitCode?Object(S.jsx)(Z,{}):(null===(r=i.state)||void 0===r?void 0:r._)===m.AUTHORIZATION_STATE.authorizationStateWaitPassword?Object(S.jsx)(F,{}):(null===(a=i.state)||void 0===a?void 0:a._)===m.AUTHORIZATION_STATE.authorizationStateWaitOtherDeviceConfirmation?Object(S.jsx)(B,{}):null})),K=[m.AUTHORIZATION_STATE.authorizationStateWaitTdlibParameters,m.AUTHORIZATION_STATE.authorizationStateWaitEncryptionKey],M=[m.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber,m.AUTHORIZATION_STATE.authorizationStateWaitCode,m.AUTHORIZATION_STATE.authorizationStateWaitPassword,m.AUTHORIZATION_STATE.authorizationStateWaitOtherDeviceConfirmation],Y=Object(o.a)((function(e){var t=e.children,r=Object(n.useContext)(k).Authorization;return!r.state||K.includes(r.state._)?Object(S.jsx)(L,{children:Object(S.jsx)(s.g,{scale:5})}):M.includes(r.state._)?Object(S.jsx)(J,{}):Object(S.jsx)(S.Fragment,{children:t})})),G=r(12);function X(){return Object(S.jsx)(G.b,{})}var $=Object(o.a)((function(){var e=Object(n.useContext)(k);return console.log(e.Authorization.state),Object(S.jsx)(Y,{children:Object(S.jsx)(X,{})})})),ee=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1067)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};i.a.render(Object(S.jsx)(n.StrictMode,{children:Object(S.jsx)(C,{children:Object(S.jsxs)(s.c,{children:[Object(S.jsx)(s.b,{}),Object(S.jsx)(c.a,{children:Object(S.jsx)($,{})})]})})}),document.getElementById("root")),ee()},37:function(e,t,r){e.exports={root:"CenterLayout_root__L4_bA",padding:"CenterLayout_padding__3SYoM"}},51:function(e,t,r){e.exports={codeArea:"QrCode_codeArea__1c03P"}},63:function(e,t,r){}},[[1066,1,2]]]);
//# sourceMappingURL=main.a4fc4cec.chunk.js.map