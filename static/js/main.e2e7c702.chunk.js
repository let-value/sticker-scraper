(this["webpackJsonpsticker-scraper"]=this["webpackJsonpsticker-scraper"]||[]).push([[0],{1070:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(18),i=r.n(a),c=r(57),s=(r(62),r(63),r(14)),o=r(7),u=r(8),h=r.n(u),j=r(10),d=r(15),b=r(19),l=r(12),p=r(50),O={apiId:parseInt("6544363"),apiHash:"86ef20b7ba5e5464dc7079e760e1499c",jsLogVerbosityLevel:"info",logVerbosityLevel:2},f=void 0;function x(){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return e.next=3,f.api.destroy();case 3:return t=new p.Airgram(O),f=t,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=r(13);function g(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e,r){t.onloadend=function(){e(t.result)},t.onerror=function(e){r(e)}}))}var T=function(){function e(t){var r=this;Object(d.a)(this,e),this.rootStore=t,this.state=void 0,this.firstLaunch=!0,this.user=void 0,this.userPhoto=void 0,this.middleware=function(){return function(){var e=Object(j.a)(h.a.mark((function e(t,n){var a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._!==v.UPDATE.updateAuthorizationState||!("update"in t)){e.next=8;break}if(i=t.update,c=i.authorizationState,!r.firstLaunch||c._!==v.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber||(null===(a=r.state)||void 0===a?void 0:a._)!==v.AUTHORIZATION_STATE.authorizationStateWaitEncryptionKey){e.next=7;break}return r.firstLaunch=!1,r.switchToQr(),e.abrupt("return");case 7:Object(l.g)((function(){r.state=c}));case 8:return e.abrupt("return",n());case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Object(l.d)(this,{middleware:!1})}return Object(b.a)(e,[{key:"switchToQr",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=this.state)||void 0===t?void 0:t._)!==v.AUTHORIZATION_STATE.authorizationStateWaitOtherDeviceConfirmation){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rootStore.Airgram.api.requestQrCodeAuthentication();case 4:if("error"!==(r=e.sent).response._){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchToPhoneNumber",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=this.state)||void 0===t?void 0:t._)!==v.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.reset();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.firstLaunch=!1,e.next=3,this.rootStore.resetAirgram();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootStore.Airgram.api.logOut();case 2:return this.firstLaunch=!0,e.next=5,this.rootStore.resetAirgram();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendPhoneNumber",value:function(e){return this.rootStore.Airgram.api.setAuthenticationPhoneNumber({phoneNumber:e})}},{key:"sendCode",value:function(e){return this.rootStore.Airgram.api.checkAuthenticationCode({code:e})}},{key:"sendPassword",value:function(e){return this.rootStore.Airgram.api.checkAuthenticationPassword({password:e})}},{key:"getMe",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,r,n,a,i,c=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootStore.Airgram.api.getMe();case 2:if("error"!==(n=e.sent).response._){e.next=5;break}throw n.response;case 5:if(Object(l.g)((function(){c.user=n.response})),void 0!==(a=null===(t=n.response.profilePhoto)||void 0===t||null===(r=t.small)||void 0===r?void 0:r.id)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.rootStore.Airgram.api.readFilePart({fileId:a});case 11:if("filePart"!==(i=e.sent).response._){e.next=17;break}return e.next=15,g(i.response.data);case 15:this.userPhoto=e.sent,console.log(this.userPhoto);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),A=function(){function e(t){Object(d.a)(this,e),this.rootStore=t,this.middleware=function(){return function(){var e=Object(j.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),t._,v.UPDATE.updateChatChatList,e.abrupt("return",r());case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Object(l.d)(this,{middleware:!1})}return Object(b.a)(e,[{key:"init",value:function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootStore.Airgram.api.getChats({chatList:{_:"chatListMain"},limit:10});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),w=function e(t){var r=this;Object(d.a)(this,e),this.rootStore=t,this.state=v.CONNECTION_STATE.connectionStateWaitingForNetwork,this.middleware=function(){return function(){var e=Object(j.a)(h.a.mark((function e(t,n){var a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._===v.UPDATE.updateConnectionState&&"update"in t&&(a=t.update,i=a.state._,Object(l.g)((function(){r.state=i}))),e.abrupt("return",n());case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Object(l.d)(this,{middleware:!1})},k="theme",C="light";window.matchMedia("(prefers-color-scheme: dark)").matches&&(C="dark");var y=localStorage.getItem(k);y&&(C=y);var S=function(){function e(){Object(d.a)(this,e),this.currentTheme=C,Object(l.d)(this)}return Object(b.a)(e,[{key:"toggleTheme",value:function(){var e="dark"===this.currentTheme?"light":"dark";this.currentTheme=e,localStorage.setItem(k,e)}}]),e}(),_=function(){function e(){Object(d.a)(this,e),this.Theme=new S,this.Airgram=void 0,this.Authorization=new T(this),this.Connection=new w(this),this.Chats=new A(this),this.resetAirgram(),Object(l.d)(this,{Airgram:!1})}return Object(b.a)(e,[{key:"resetAirgram",value:function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:this.Airgram=e.sent,this.Airgram.use(this.Authorization,this.Connection,this.Chats);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),I=r(6),N=new _,P=Object(n.createContext)(N),E=function(e){var t=e.children;return Object(I.jsx)(P.Provider,{value:N,children:t})},z=r(27),L=r(23),R=r(3),U=r(51),H=r.n(U),W=r(38),F=r.n(W),Z=["className","disablePadding"],M=function(e){var t=e.className,r=e.disablePadding,n=Object(R.a)(e,Z);return Object(I.jsx)("div",Object(z.a)({className:H()(F.a.root,Object(L.a)({},F.a.padding,!r),t)},n))},D=r(5),q=r(24),Q=function(){var e=Object(n.useContext)(P).Authorization,t=Object(n.useState)(!1),r=Object(D.a)(t,2),a=r[0],i=r[1],c=Object(q.b)(),s=c.formState.errors,u=c.register,d=c.handleSubmit,b=c.setError,l=Object(n.useCallback)(function(){var t=Object(j.a)(h.a.mark((function t(r){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.phoneNumber,!a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,i(!0),t.next=7,e.sendPhoneNumber(n);case 7:if("error"!==(c=t.sent).response._){t.next=10;break}throw c.response._;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),b("phoneNumber",t.t0);case 15:return t.prev=15,i(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),[e,a,b]);return Object(I.jsx)(M,{children:Object(I.jsx)("form",{onSubmit:d(l),children:Object(I.jsxs)(o.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(I.jsx)(o.j,{h3:!0,children:"Log in to Telegram"}),Object(I.jsx)(o.j,{margin:0,children:"by phone number"}),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.e,Object(z.a)({autoFocus:!0,disabled:a,type:s.phoneNumber?"error":void 0},u("phoneNumber",{required:!0}))),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.a,{disabled:a,htmlType:"submit",type:"success",children:"Next"}),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.a,{ghost:!0,type:"success",onClick:function(){return e.switchToQr()},children:"Log in by qr code"})]})})})},V=Object(s.a)((function(){var e=Object(n.useContext)(P).Authorization,t=Object(q.b)(),r=t.handleSubmit,a=t.setError,i=t.control,c=e.state,s=Object(q.a)({defaultValue:"",name:"code",rules:{required:!0},control:i}),u=s.field,d=u.value,b=u.onChange,l=s.fieldState.error,p=Object(n.useCallback)(function(){var t=Object(j.a)(h.a.mark((function t(r){var n,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.code,t.prev=1,t.next=4,e.sendCode(n);case 4:if("error"!==(i=t.sent).response._){t.next=7;break}throw i.response._;case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a("code",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),[e,a]),O=Object(n.useCallback)((function(e){var t=e.target.value;b(t),5===t.length&&r(p)(e)}),[r,b,p]);return Object(I.jsx)(M,{children:Object(I.jsx)("form",{onSubmit:r(p),children:Object(I.jsxs)(o.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(I.jsx)(o.j,{h3:!0,children:c.codeInfo.phoneNumber}),Object(I.jsx)(o.e,{autoFocus:!0,label:"Code",type:l?"error":void 0,value:d,onChange:O}),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.a,{htmlType:"submit",type:"success",children:"Next"}),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.a,{type:"success",ghost:!0,onClick:function(){return e.reset()},children:"Reset"})]})})})})),B=Object(s.a)((function(){var e=Object(n.useContext)(P).Authorization,t=Object(n.useState)(!1),r=Object(D.a)(t,2),a=r[0],i=r[1],c=Object(q.b)(),s=c.formState.errors,u=c.register,d=c.handleSubmit,b=c.setError,l=e.state,p=Object(n.useCallback)(function(){var t=Object(j.a)(h.a.mark((function t(r){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.password,!a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,i(!0),t.next=7,e.sendPassword(n);case 7:if("error"!==(c=t.sent).response._){t.next=10;break}throw c.response._;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),b("password",t.t0);case 15:return t.prev=15,i(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),[e,a,b]);return Object(I.jsx)(M,{children:Object(I.jsx)("form",{onSubmit:d(p),children:Object(I.jsxs)(o.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(I.jsx)(o.j,{h3:!0,children:"Enter Your Password"}),Object(I.jsx)(o.e.Password,Object(z.a)({autoFocus:!0,disabled:a,placeholder:l.passwordHint,type:s.password?"error":void 0},u("password",{required:!0}))),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.a,{disabled:a,htmlType:"submit",type:"success",children:"Next"}),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.a,{type:"success",ghost:!0,onClick:function(){return e.reset()},children:"Reset"})]})})})})),J=r(52),K=r.n(J),Y=r(53),G=r.n(Y),X=Object(s.a)((function(){var e=Object(n.useContext)(P).Authorization,t=e.state;return Object(I.jsx)(M,{children:Object(I.jsxs)(o.d.Container,{direction:"column",alignContent:"center",alignItems:"center",children:[Object(I.jsx)(o.j,{h3:!0,children:"Log in to Telegram"}),Object(I.jsx)(o.j,{margin:0,children:"by qr code"}),Object(I.jsx)(o.h,{}),Object(I.jsx)("div",{className:G.a.codeArea,children:Object(I.jsx)(M,{disablePadding:!0,children:t.link?Object(I.jsx)(K.a,{includeMargin:!0,renderAs:"svg",value:t.link,size:240}):Object(I.jsx)(o.i,{})})}),Object(I.jsx)(o.h,{}),Object(I.jsx)(o.a,{ghost:!0,type:"success",onClick:function(){return e.switchToPhoneNumber()},children:"Log in by phone number"})]})})})),$=Object(s.a)((function(){var e,t,r,a,i=Object(n.useContext)(P).Authorization;return(null===(e=i.state)||void 0===e?void 0:e._)===v.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber?Object(I.jsx)(Q,{}):(null===(t=i.state)||void 0===t?void 0:t._)===v.AUTHORIZATION_STATE.authorizationStateWaitCode?Object(I.jsx)(V,{}):(null===(r=i.state)||void 0===r?void 0:r._)===v.AUTHORIZATION_STATE.authorizationStateWaitPassword?Object(I.jsx)(B,{}):(null===(a=i.state)||void 0===a?void 0:a._)===v.AUTHORIZATION_STATE.authorizationStateWaitOtherDeviceConfirmation?Object(I.jsx)(X,{}):null})),ee=[v.AUTHORIZATION_STATE.authorizationStateWaitTdlibParameters,v.AUTHORIZATION_STATE.authorizationStateWaitEncryptionKey],te=[v.AUTHORIZATION_STATE.authorizationStateWaitPhoneNumber,v.AUTHORIZATION_STATE.authorizationStateWaitCode,v.AUTHORIZATION_STATE.authorizationStateWaitPassword,v.AUTHORIZATION_STATE.authorizationStateWaitOtherDeviceConfirmation],re=Object(s.a)((function(e){var t=e.children,r=Object(n.useContext)(P).Authorization;return!r.state||ee.includes(r.state._)?Object(I.jsx)(M,{children:Object(I.jsx)(o.i,{scale:5})}):te.includes(r.state._)?Object(I.jsx)($,{}):Object(I.jsx)(I.Fragment,{children:t})})),ne=r(11),ae=r(54),ie=r(28),ce=Object(s.a)((function(){var e=Object(n.useContext)(P).Authorization;return Object(n.useEffect)((function(){e.getMe()}),[]),e.user?Object(I.jsxs)(o.d.Container,{wrap:"nowrap",alignItems:"center",xs:!0,children:[Object(I.jsx)(o.k,{src:e.userPhoto,name:"".concat(e.user.firstName," ").concat(e.user.lastName),children:e.user.username}),Object(I.jsx)("div",{style:{flex:1}}),Object(I.jsx)(o.a,{auto:!0,type:"abort",iconRight:Object(I.jsx)(ie.b,{}),onClick:function(){return e.logOut()}})]}):Object(I.jsx)(o.i,{})})),se=r(55),oe=r.n(se),ue=function(){var e=Object(n.useContext)(P).Chats;return Object(n.useEffect)((function(){e.init()}),[]),Object(I.jsx)(o.d.Container,{className:oe.a.root,direction:"column",children:"Chats"})},he=Object(s.a)((function(){return Object(I.jsxs)(o.d.Container,{direction:"column",justify:"flex-start",alignItems:"stretch",children:[Object(I.jsx)(o.d.Container,{height:"64px",alignItems:"center",children:Object(I.jsx)(ce,{})}),Object(I.jsx)(ue,{})]})})),je=function(e){return e.match.params.id?Object(I.jsx)(I.Fragment,{children:"Conversation"}):Object(I.jsx)(M,{children:Object(I.jsx)(o.j,{type:"secondary",children:"Please choose a conversation "})})},de=r(39),be=r.n(de);function le(){var e=Object(ae.useMediaQuery)({query:"(max-width: 650px)"});return Object(I.jsx)(o.d.Container,{gap:0,width:"100%",height:"100%",children:e?Object(I.jsxs)(ne.d,{children:[Object(I.jsx)(ne.b,{path:"/chats",component:he}),Object(I.jsx)(ne.b,{path:"/conversation/:id",component:je}),Object(I.jsx)(ne.a,{to:"chats"})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(o.d,{className:be.a.panel,sm:8,md:6,lg:4,xl:2,children:Object(I.jsx)(he,{})}),Object(I.jsx)(o.d,{className:be.a.panel,sm:16,md:18,lg:20,xl:22,children:Object(I.jsxs)(ne.d,{children:[Object(I.jsx)(ne.b,{path:"/conversation/:id?",component:je}),Object(I.jsx)(ne.a,{to:"conversation"})]})})]})})}var pe=function(){var e=Object(n.useContext)(P).Theme,t="dark"===e.currentTheme;return Object(I.jsxs)(o.d.Container,{wrap:"nowrap",gap:0,height:"50px",alignItems:"center",children:[Object(I.jsx)(o.h,{w:.5}),Object(I.jsx)(o.a,{auto:!0,type:"abort",iconRight:t?Object(I.jsx)(ie.c,{}):Object(I.jsx)(ie.d,{}),onClick:function(){return e.toggleTheme()}}),Object(I.jsx)("div",{style:{flex:1}}),Object(I.jsxs)(o.j,{span:!0,children:["Made with"," ",Object(I.jsx)(o.f,{underline:!0,href:"https://airgram.netlify.app/",target:"_blank",rel:"noopener noreferrer",children:"Airgram"}),","," ",Object(I.jsx)(o.f,{underline:!0,href:"https://react.geist-ui.dev/",target:"_blank",rel:"noopener noreferrer",children:"Geist UI"})," ","and ",Object(I.jsx)(ie.a,{color:"red"})]}),Object(I.jsx)(o.h,{})]})};var Oe=Object(s.a)((function(){var e=Object(n.useContext)(P).Theme;return Object(I.jsxs)(o.c,{themeType:e.currentTheme,children:[Object(I.jsx)(o.b,{}),Object(I.jsxs)(o.g,{render:"effect-seo",scale:.5,width:"100%",padding:0,children:[Object(I.jsx)(o.g.Content,{paddingTop:0,children:Object(I.jsx)(re,{children:Object(I.jsx)(le,{})})}),Object(I.jsx)(o.g.Footer,{children:Object(I.jsx)(pe,{})})]})]})})),fe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1071)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};i.a.render(Object(I.jsx)(n.StrictMode,{children:Object(I.jsx)(E,{children:Object(I.jsx)(c.a,{basename:"/sticker-scraper",children:Object(I.jsx)(Oe,{})})})}),document.getElementById("root")),fe()},38:function(e,t,r){e.exports={root:"CenterLayout_root__L4_bA",padding:"CenterLayout_padding__3SYoM"}},39:function(e,t,r){e.exports={panel:"Root_panel__2Hl4e"}},53:function(e,t,r){e.exports={codeArea:"QrCode_codeArea__1c03P"}},55:function(e,t,r){e.exports={root:"Chats_root__31lV_"}},62:function(e,t,r){}},[[1070,1,2]]]);
//# sourceMappingURL=main.e2e7c702.chunk.js.map